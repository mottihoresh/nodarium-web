<div data-ng-controller="ArduinoController">
    <div class="row">
        <div class="col-sm-12">
            <strong>Arduino Status: {{ status }} <span data-ng-if="arduinoStatus.connectionAttempts > 0"> (Attempt #{{arduinoStatus.connectionAttempts}})</span></strong>

            <div class="jumbotron text-center">
                <h1 class="title">{{ status }}</h1>
            </div>
        </div>

    </div>

    <ul class="nav nav-tabs">
        <li role="presentation" ui-sref-active-eq="active"><a ui-sref="arduino">Arduino Main</a></li>
        <li role="presentation" ui-sref-active-eq="active"><a ui-sref="arduino.history">History</a></li>
        <li role="presentation" ui-sref-active-eq="active"><a ui-sref="arduino.serialMonitor">Serial Monitor</a></li>
        <li role="presentation" ui-sref-active-eq="active"><a ui-sref="arduino.settings">Settings</a></li>
    </ul>


    <div data-ui-view>
        <div class="row">
            <div class="col-sm-8">
                <h3>Pending Commands:</h3>
                <table class="table">
                    <tr>
                        <th>Type</th>
                        <th>Command</th>
                        <th>Attempts</th>
                        <th>Completed</th>
                        <th>Created</th>
                    </tr>
                    <tr data-ng-repeat="task in pendingTasks | limitTo : 10">
                        <td>{{ task.type }}</td>
                        <td>{{ task.command }}</td>
                        <td>{{ task.attempts }}</td>
                        <td>{{ task.completed }}</td>
                        <td>{{ task.created  | date:'medium' }}</td>
                    </tr>
                </table>

            </div>
            <div class="col-sm-4">
                <h3>Stats:</h3>
                <dl>
                    <dt>Pending Requests</dt>
                    <dd>{{ pendingTasks.length }}</dd>
                    <dt>Serial Port</dt>
                    <dd>{{ port }}</dd>
                </dl>
            </div>
        </div>
    </div>


</div>
